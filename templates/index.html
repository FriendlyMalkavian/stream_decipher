<body>
    <h1>Потоковое шифрование</h1>

    <h2>Шифрование</h2>
    <form method="POST">
        <label for="message">Введите сообщение для шифрования:</label><br>
        <input type="text" id="message" name="message" required><br><br>
        <button type="submit" name="encrypt">Зашифровать</button>
    </form>

    {% if encrypted_message %}
    <h3>Результат шифрования:</h3>
    <p>{{ encrypted_message }}</p>
    <h3>Ключ шифрования:</h3>
    <p>{{ key }}</p>
    <form method="POST">
        <input type="hidden" name="encrypted_message" value="{{ encrypted_message }}">
        <input type="hidden" name="key" value="{{ key }}">
    </form>
    {% endif %}

    <h2>Дешифрование</h2>
    <form method="POST">
        <label for="encrypted_message">Введите зашифрованное сообщение:</label><br>
        <input type="text" id="encrypted_message" name="encrypted_message" required><br><br>
        <label for="key">Введите ключ шифрования:</label><br>
        <input type="text" id="key" name="key" required><br><br>
        <button type="submit" name="decrypt">Расшифровать</button>
    </form>

    {% if decrypted_message %}
    <h3>Результат дешифрования:</h3>
    <p>{{ decrypted_message }}</p>
    {% endif %}
    
    {% if force_decrypted_message %}
    <h3>Результат дешифрования (при ошибке):</h3>
    <p>{{ force_decrypted_message }}</p>
    {% endif %}
</body>
